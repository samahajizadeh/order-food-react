{"version":3,"sources":["pages/Cart/CartPage.module.scss","pages/Cart/CartPage.js"],"names":["module","exports","CartPage","useSelector","state","order","items","totalAmount","dispatch","useDispatch","navigate","useNavigate","useEffect","localStorage","getItem","incrementHandler","item","addItem","amount","decrementHandler","id","removeItem","cartsItem","className","colSpan","length","map","index","style","width","src","image","alt","title","NumberWithCommas","price","classes","actions","variant","onClick","bind","md","lg","col","striped","bordered","hover"],"mappings":"mGACAA,EAAOC,QAAU,CAAC,eAAe,+BAA+B,eAAe,+BAA+B,IAAM,sBAAsB,aAAa,6BAA6B,QAAU,0BAA0B,cAAc,8BAA8B,MAAQ,0B,qJCgH7PC,UAzGE,WACf,MAA+BC,aAAY,SAACC,GAAD,OAAWA,EAAMC,SAApDC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,YACTC,EAAWC,cACXC,EAAWC,cAEjBC,qBAAU,WACUC,aAAaC,QAAQ,eAErCJ,EAAS,YAEV,CAACA,IAEJ,IAAMK,EAAmB,SAACC,GACxBR,EAASS,YAAQ,2BAAKD,GAAN,IAAYE,OAAQ,OAGhCC,EAAmB,SAACC,GACxBZ,EAASa,YAAWD,KAOlBE,EACF,6BACE,oBAAIC,UAAU,cAAcC,QAAS,EAArC,6IAmCJ,OA9BIlB,EAAMmB,SACRH,EAAYhB,EAAMoB,KAAI,SAACV,EAAMW,GAAP,OACpB,+BACE,oBAAIC,MAAO,CAAEC,MAAO,QAApB,SAA+BF,EAAQ,IACvC,6BACE,qBAAKC,MAAO,CAAEC,MAAO,QAAUC,IAAKd,EAAKe,MAAOC,IAAKhB,EAAKiB,UAE5D,6BAAKjB,EAAKiB,QACV,6BAAKC,YAAiBlB,EAAKmB,SAC3B,6BACE,sBAAKZ,UAAWa,IAAQC,QAAxB,UACE,cAAC,IAAD,CACEC,QAAQ,eACRC,QAASxB,EAAiByB,KAAK,KAAMxB,GAFvC,eAMA,uBAAMO,UAAWa,IAAQlB,OAAzB,UAAkCF,EAAKE,OAAvC,OACA,cAAC,IAAD,CACEoB,QAAQ,eACRC,QAASpB,EAAiBqB,KAAK,KAAMxB,EAAKI,IAF5C,2BAhBGJ,EAAKI,QA6BhB,yBAASG,UAAWa,IAAQ,gBAA5B,SACE,cAAC,IAAD,CAAKb,UAAWa,IAAQ,gBAAxB,SACE,cAAC,IAAD,CAAKK,GAAI,GAAIC,GAAI,EAAjB,SACE,sBAAKnB,UAAWa,IAAQO,IAAxB,UACE,sGACA,qBAAKpB,UAAWa,IAAQ,cAAxB,SACE,eAAC,IAAD,CAAOQ,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACR,QAAQ,OAAtC,UACE,gCACE,+BACE,oBAAId,QAAQ,IAAZ,4CACA,0DACA,qEAGJ,gCAAQF,IACPhB,EAAMmB,OAAS,GACd,uBAAOF,UAAWa,IAAQ,eAA1B,SACE,+BACE,qBAAIZ,QAAQ,IAAZ,4CAEE,sBAAMD,UAAWa,IAAQD,MAAzB,SACGD,YAAiB3B,QAGtB,6BACE,cAAC,IAAD,CACE+B,QAAQ,kBACRC,QArEA,WACtB7B,EAAS,cAkEW","file":"static/js/7.01f4a96b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-wrapper\":\"CartPage_cart-wrapper__r8QjT\",\"cart-content\":\"CartPage_cart-content__Sebat\",\"col\":\"CartPage_col__3GSXy\",\"cart-table\":\"CartPage_cart-table__21lMX\",\"actions\":\"CartPage_actions__3LwyY\",\"total-price\":\"CartPage_total-price__1p4eT\",\"price\":\"CartPage_price__28z2K\"};","import React, { useEffect } from \"react\";\r\nimport { Col, Row, Table, Button } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport classes from \"./CartPage.module.scss\";\r\nimport { NumberWithCommas } from \"../../components/UI/NumberFormat\";\r\nimport { addItem, removeItem } from \"../../store/order\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst CartPage = () => {\r\n  const { items, totalAmount } = useSelector((state) => state.order);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const authToken = localStorage.getItem(\"Auth Token\");\r\n    if (!authToken) {\r\n      navigate(\"/login\");\r\n    }\r\n  }, [navigate]);\r\n\r\n  const incrementHandler = (item) => {\r\n    dispatch(addItem({ ...item, amount: 1 }));\r\n  };\r\n\r\n  const decrementHandler = (id) => {\r\n    dispatch(removeItem(id));\r\n  };\r\n\r\n  const checkoutHandler = () => {\r\n    navigate(\"/checkout\");\r\n  };\r\n\r\n  let cartsItem = (\r\n    <tr>\r\n      <td className=\"text-danger\" colSpan={5}>\r\n        سبد خرید شما خالی می باشد\r\n      </td>\r\n    </tr>\r\n  );\r\n  if (items.length) {\r\n    cartsItem = items.map((item, index) => (\r\n      <tr key={item.id}>\r\n        <td style={{ width: \"30px\" }}>{index + 1}</td>\r\n        <td>\r\n          <img style={{ width: \"60px\" }} src={item.image} alt={item.title} />\r\n        </td>\r\n        <td>{item.title}</td>\r\n        <td>{NumberWithCommas(item.price)}</td>\r\n        <td>\r\n          <div className={classes.actions}>\r\n            <Button\r\n              variant=\"outline-info\"\r\n              onClick={incrementHandler.bind(null, item)}\r\n            >\r\n              +\r\n            </Button>\r\n            <span className={classes.amount}>{item.amount} </span>\r\n            <Button\r\n              variant=\"outline-info\"\r\n              onClick={decrementHandler.bind(null, item.id)}\r\n            >\r\n              −\r\n            </Button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <section className={classes[\"cart-wrapper\"]}>\r\n      <Row className={classes[\"cart-content\"]}>\r\n        <Col md={10} lg={8}>\r\n          <div className={classes.col}>\r\n            <h3>لیست خرید شما</h3>\r\n            <div className={classes[\"cart-table\"]}>\r\n              <Table striped bordered hover variant=\"dark\">\r\n                <thead>\r\n                  <tr>\r\n                    <th colSpan=\"3\">محصول</th>\r\n                    <th>قیمت</th>\r\n                    <th>تعداد</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{cartsItem}</tbody>\r\n                {items.length > 0 && (\r\n                  <tfoot className={classes[\"total-price\"]}>\r\n                    <tr>\r\n                      <td colSpan=\"4\">\r\n                        جمع کل\r\n                        <span className={classes.price}>\r\n                          {NumberWithCommas(totalAmount)}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <Button\r\n                          variant=\"outline-success\"\r\n                          onClick={checkoutHandler}\r\n                        >\r\n                          پرداخت\r\n                        </Button>\r\n                      </td>\r\n                    </tr>\r\n                  </tfoot>\r\n                )}\r\n              </Table>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </section>\r\n  );\r\n};\r\nexport default CartPage;\r\n"],"sourceRoot":""}